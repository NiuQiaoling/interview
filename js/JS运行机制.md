## 关于javascript
javascript是单线程的

**所谓单线程就是程序按照顺序执行， 同一时间内只能执行一个任务， 前面的任务执行完之后， 才能执行后面的任务。**

我们都知道顺序执行， 一旦前面的任务非常耗时， 后面的任务便需要等待， 从而造成页面的卡顿。那么javascript为什么还要被设计成单线程的呢? 

    这主要与javascript的用途有关。javascript是一种浏览器脚本语言， 主要用来进行用户交互， DOM操作等， 试想， 前一个任务修改DOM的属性， 后一个任务要删除这个DOM， 如果JS是多线程的， 两个任务被分配到不同的线程运行， 该以何为主呢， 为了减少复杂性，因此javascript被设计成单线程。

那么如何解决任务超时卡顿的问题呢？

- JS运行在浏览器中， JS是单线程的， 但是浏览器是多线程的
- 在浏览器中存在如下线程

    - **JS引擎线程**

        负责js代码的解析与执行，可称之为主线程
    - **定时器触发线程**

        主要控制计时器setInterval和延时器setTimeout, 用于定时器的计时， 计时完成后， 满足定时器的触发条件时， 则将定时器处理函数推进事件队列中， 等待JS引擎执行
    - **浏览器事件触发线程**

        归属于浏览器内核进程， 不受JS引擎线程控制。主要用于控制事件（如鼠标， 键盘）， 当该事件被触发的时候， 事件出发线程就会把事件的处理函数推进事件队列， 等待JS引擎执行
    - **HTTP请求线程**

        通过XMLHttpRequest连接后， 通过浏览器新开的一个线程， 在监控到readyState状态变更即请求返回时， 如果设置了该状态的回调函数， 则将该状态的处理函数推进事件队列中， 等待JS引擎执行
    - **UI渲染**

## 任务队列
javascript中，任务又分为两种
- 宏任务

    宏任务又按执行顺序分为
    - 同步任务
    - 异步任务
        1. 定时器
        2. 网络请求
        3. UI渲染
        4. 事件

- 微任务
    - promise
    - process.nexttrick












> https://segmentfault.com/a/1190000011198232
> https://tasaid.com/blog/20180118132704.html
> https://heyingye.github.io/2018/03/26/js%E5%BC%95%E6%93%8E%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/
>https://segmentfault.com/a/1190000010292798